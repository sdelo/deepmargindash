<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Leviathan — Rewards Accrued (Interest Earned)</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-b from-[#020617] to-[#0b1226] flex items-center justify-center min-h-screen">
  <!-- Rewards Accrued Panel -->
  <div class="w-[980px] rounded-3xl p-6 bg-white/10 backdrop-blur-2xl backdrop-saturate-150 shadow-2xl border-2 border-amber-400/70 ring-1 ring-cyan-300/40 relative text-white">
    <!-- Ambient Leviathan Glows -->
    <div class="pointer-events-none absolute inset-0 rounded-3xl bg-gradient-to-r from-amber-400/35 via-yellow-500/15 to-transparent blur-2xl -z-10"></div>
    <div class="pointer-events-none absolute inset-0 rounded-3xl bg-gradient-to-br from-cyan-300/20 via-blue-700/20 to-transparent blur-2xl -z-20"></div>

    <!-- Header -->
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-2xl font-extrabold tracking-wide text-amber-300 drop-shadow">Rewards Accrued</h2>
      <span class="text-xs text-cyan-100/80">From <span class='text-amber-300'>AssetSupplied / AssetWithdrawn</span> + rates via <span class='text-amber-300'>State</span></span>
    </div>
    <div class="h-px w-full bg-gradient-to-r from-transparent via-amber-300/60 to-transparent mb-6"></div>

    <!-- KPI Row: Lifetime / Realized / Unrealized / 24h -->
    <div class="grid grid-cols-4 gap-4 mb-6">
      <div class="rounded-2xl p-4 bg-white/5 border border-amber-400/30">
        <div class="text-xs text-cyan-100/80 mb-1">Lifetime Interest</div>
        <div class="text-3xl font-extrabold text-amber-300"><span id="rewards-lifetime" data-key="rewards.lifetime">1,540</span></div>
        <div class="text-[10px] text-cyan-100/60">realized + unrealized</div>
      </div>
      <div class="rounded-2xl p-4 bg-white/5 border border-amber-400/30">
        <div class="text-xs text-cyan-100/80 mb-1">Realized (Withdrawn)</div>
        <div class="text-3xl font-extrabold"><span id="rewards-realized" data-key="rewards.realized">420</span></div>
        <div class="text-[10px] text-cyan-100/60">Σ withdraw_amount − Σ supply_amount (closed)</div>
      </div>
      <div class="rounded-2xl p-4 bg-white/5 border border-amber-400/30">
        <div class="text-xs text-cyan-100/80 mb-1">Unrealized (Accruing)</div>
        <div class="text-3xl font-extrabold"><span id="rewards-unrealized" data-key="rewards.unrealized">1,120</span></div>
        <div class="text-[10px] text-cyan-100/60">current_value − principal_in_pool</div>
      </div>
      <div class="rounded-2xl p-4 bg-white/5 border border-amber-400/30 relative overflow-hidden">
        <div class="text-xs text-cyan-100/80 mb-1">Accrued (24h)</div>
        <div class="text-3xl font-extrabold"><span id="rewards-24h" data-key="rewards.last_24h">28</span></div>
        <div class="text-[10px] text-cyan-100/60">est. from current APR</div>
        <span class="pointer-events-none absolute -right-6 -bottom-6 w-20 h-20 rounded-full bg-amber-300/15 blur-xl"></span>
      </div>
    </div>

    <!-- Mid Row: Sparkline + APR context + Action -->
    <div class="grid grid-cols-3 gap-5">
      <!-- Sparkline Card -->
      <div class="col-span-2 rounded-2xl p-5 bg-white/5 border border-amber-400/30 relative overflow-hidden">
        <div class="flex items-center justify-between mb-3">
          <div class="text-sm text-cyan-100/90">Interest Earned — Timeline</div>
          <div class="text-[11px] text-cyan-100/70">cumulative (line) & daily (bars)</div>
        </div>
        <svg viewBox="0 0 600 180" class="w-full h-[160px]">
          <!-- Axes -->
          <line x1="40" y1="150" x2="580" y2="150" stroke="rgba(255,255,255,0.25)" stroke-width="1" />
          <line x1="40" y1="20" x2="40" y2="150" stroke="rgba(255,255,255,0.25)" stroke-width="1" />
          <!-- Daily bars (mock) -->
          <g fill="#fbbf24" fill-opacity="0.55">
            <rect x="60" y="140" width="10" height="10"></rect>
            <rect x="80" y="138" width="10" height="12"></rect>
            <rect x="100" y="136" width="10" height="14"></rect>
            <rect x="120" y="134" width="10" height="16"></rect>
            <rect x="140" y="132" width="10" height="18"></rect>
            <rect x="160" y="130" width="10" height="20"></rect>
            <rect x="180" y="128" width="10" height="22"></rect>
          </g>
          <!-- Cumulative line (mock) -->
          <polyline fill="none" stroke="#fbbf24" stroke-width="3" points="40,148 100,142 160,134 220,126 280,118 340,110 400,102 460,95 520,88 580,82" />
        </svg>
        <!-- Glow flares -->
        <span class="pointer-events-none absolute -right-10 -bottom-10 w-36 h-36 rounded-full bg-amber-300/15 blur-2xl"></span>
        <span class="pointer-events-none absolute -left-8 -top-8 w-28 h-28 rounded-full bg-cyan-300/15 blur-2xl"></span>
      </div>

      <!-- APR Context + CTA -->
      <div class="rounded-2xl p-5 bg-white/5 border border-amber-400/30 flex flex-col justify-between">
        <div>
          <div class="text-sm text-cyan-100/90 mb-2">APR Context</div>
          <div class="text-[12px] text-cyan-100/80">Supply APR now: <span class="text-amber-300 font-semibold" id="apr-now" data-key="apr.supply_now">7.8%</span></div>
          <div class="text-[12px] text-cyan-100/80">Avg last 7d: <span class="text-amber-300 font-semibold" id="apr-7d" data-key="apr.supply_7d">7.3%</span></div>
          <div class="text-[12px] text-cyan-100/80">Utilization: <span class="text-amber-300 font-semibold" id="util-now" data-key="state.utilization">65.6%</span></div>
        </div>
        <div class="mt-4">
          <button class="w-full rounded-xl py-3 bg-gradient-to-r from-amber-400 to-yellow-600 text-black font-semibold shadow-lg hover:from-amber-300 hover:to-yellow-500 transition">Claim / Withdraw Interest</button>
        </div>
      </div>
    </div>

    <!-- Bottom: Per-Pool Contributions -->
    <div class="rounded-2xl p-5 bg-white/5 border border-amber-400/30 mt-6">
      <div class="flex items-center justify-between mb-3">
        <div class="text-sm text-cyan-100/90">Per-Pool Interest Contribution</div>
        <div class="text-[11px] text-cyan-100/70">top 5 pools</div>
      </div>
      <div class="space-y-2">
        <!-- Row template -->
        <div class="grid grid-cols-12 items-center px-3 py-2 rounded-xl hover:bg-white/5">
          <div class="col-span-4 flex items-center gap-3">
            <span class="w-2 h-2 rounded-full bg-cyan-300 shadow-[0_0_10px_2px_rgba(34,211,238,0.4)]"></span>
            <a href="#" class="text-cyan-200 underline decoration-cyan-400/40" data-key="pools[0].id">pool:0x…AB12</a>
          </div>
          <div class="col-span-3 text-right text-cyan-100/80" data-key="pools[0].asset">USDC</div>
          <div class="col-span-3 text-right text-amber-300 font-semibold" data-key="pools[0].interest">+620</div>
          <div class="col-span-2 text-right text-cyan-100/70" data-key="pools[0].share">40.3%</div>
        </div>
        <div class="grid grid-cols-12 items-center px-3 py-2 rounded-xl hover:bg-white/5">
          <div class="col-span-4 flex items-center gap-3">
            <span class="w-2 h-2 rounded-full bg-cyan-300 shadow-[0_0_10px_2px_rgba(34,211,238,0.4)]"></span>
            <a href="#" class="text-cyan-200 underline decoration-cyan-400/40">pool:0x…CD44</a>
          </div>
          <div class="col-span-3 text-right">SUI</div>
          <div class="col-span-3 text-right text-amber-300 font-semibold">+370</div>
          <div class="col-span-2 text-right text-cyan-100/70">24.1%</div>
        </div>
        <div class="grid grid-cols-12 items-center px-3 py-2 rounded-xl hover:bg-white/5">
          <div class="col-span-4 flex items-center gap-3">
            <span class="w-2 h-2 rounded-full bg-cyan-300 shadow-[0_0_10px_2px_rgba(34,211,238,0.4)]"></span>
            <a href="#" class="text-cyan-200 underline decoration-cyan-400/40">pool:0x…71AF</a>
          </div>
          <div class="col-span-3 text-right">ETH</div>
          <div class="col-span-3 text-right text-amber-300 font-semibold">+310</div>
          <div class="col-span-2 text-right text-cyan-100/70">20.1%</div>
        </div>
      </div>
    </div>

    <!-- Footnote / Methodology -->
    <div class="mt-6 text-[11px] text-cyan-100/70 leading-relaxed">
      <span class="text-amber-300">Realized interest</span> = Σ(<span class="text-cyan-200">AssetWithdrawn.withdraw_amount</span>) − Σ(<span class="text-cyan-200">AssetSupplied.supply_amount</span>) over closed positions.
      <span class="text-amber-300">Unrealized interest</span> ≈ current position value − principal-in-pool, derived from <span class="text-amber-300">State</span> (supply & shares) and pricing. 24h accrual is estimated from current APR and balance. Bind keys like <code class="text-cyan-200">rewards.*</code> and <code class="text-cyan-200">pools[i].interest</code>.
    </div>
  </div>
</body>
</html>
