<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Leviathan — Admin Config Change Log</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-b from-[#020617] to-[#0b1226] flex items-center justify-center min-h-screen">
  <!-- Admin Config Change Log -->
  <div class="w-[1040px] rounded-3xl p-6 bg-white/10 backdrop-blur-2xl backdrop-saturate-150 shadow-2xl border-2 border-amber-400/70 ring-1 ring-cyan-300/40 relative text-white">
    <!-- Ambient Leviathan Glows -->
    <div class="pointer-events-none absolute inset-0 rounded-3xl bg-gradient-to-r from-amber-400/35 via-yellow-500/15 to-transparent blur-2xl -z-10"></div>
    <div class="pointer-events-none absolute inset-0 rounded-3xl bg-gradient-to-br from-cyan-300/20 via-blue-700/20 to-transparent blur-2xl -z-20"></div>

    <!-- Header -->
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-2xl font-extrabold tracking-wide text-amber-300 drop-shadow">Admin Config Change Log</h2>
      <span class="text-xs text-cyan-100/80">From <span class='text-amber-300'>MarginPoolConfigUpdated</span>, <span class='text-amber-300'>InterestParamsUpdated</span>, <span class='text-amber-300'>DeepbookPoolUpdated</span></span>
    </div>
    <div class="h-px w-full bg-gradient-to-r from-transparent via-amber-300/60 to-transparent mb-6"></div>

    <!-- Filters -->
    <div class="grid grid-cols-12 gap-3 mb-5">
      <div class="col-span-5 flex items-center gap-2">
        <span class="text-[12px] text-cyan-100/80">Pool</span>
        <input placeholder="0x…pool_id" class="flex-1 rounded-xl bg-white/10 border-2 border-amber-400/70 text-white p-2 focus:outline-none focus:ring-2 focus:ring-amber-300/80"/>
      </div>
      <div class="col-span-4 flex items-center gap-2">
        <span class="text-[12px] text-cyan-100/80">Type</span>
        <div class="flex gap-2">
          <label class="inline-flex items-center gap-2 text-[12px]"><input type="checkbox" checked class="accent-amber-300"/> Interest</label>
          <label class="inline-flex items-center gap-2 text-[12px]"><input type="checkbox" checked class="accent-amber-300"/> Pool Config</label>
          <label class="inline-flex items-center gap-2 text-[12px]"><input type="checkbox" checked class="accent-amber-300"/> DeepBook</label>
        </div>
      </div>
      <div class="col-span-3 flex items-center gap-2 justify-end">
        <button class="rounded-xl px-3 py-2 bg-white/10 border border-cyan-300/40 text-cyan-100 hover:bg-white/15">Reset</button>
        <button class="rounded-xl px-3 py-2 bg-gradient-to-r from-amber-400 to-yellow-600 text-black font-semibold shadow-lg hover:from-amber-300 hover:to-yellow-500">Apply</button>
      </div>
    </div>

    <!-- Summary Row -->
    <div class="grid grid-cols-4 gap-4 mb-6">
      <div class="rounded-2xl p-4 bg-white/5 border border-amber-400/30">
        <div class="text-xs text-cyan-100/80 mb-1">Total Changes</div>
        <div class="text-3xl font-extrabold"><span id="chg-total" data-key="changes.total">28</span></div>
      </div>
      <div class="rounded-2xl p-4 bg-white/5 border border-amber-400/30">
        <div class="text-xs text-cyan-100/80 mb-1">Interest Param Updates</div>
        <div class="text-3xl font-extrabold"><span id="chg-interest" data-key="changes.interest">12</span></div>
      </div>
      <div class="rounded-2xl p-4 bg-white/5 border border-amber-400/30">
        <div class="text-xs text-cyan-100/80 mb-1">Pool Config Updates</div>
        <div class="text-3xl font-extrabold"><span id="chg-pool" data-key="changes.pool">9</span></div>
      </div>
      <div class="rounded-2xl p-4 bg-white/5 border border-amber-400/30 relative overflow-hidden">
        <div class="text-xs text-cyan-100/80 mb-1">DeepBook Links Updated</div>
        <div class="text-3xl font-extrabold"><span id="chg-db" data-key="changes.deepbook">7</span></div>
        <span class="pointer-events-none absolute -right-6 -bottom-6 w-20 h-20 rounded-full bg-amber-300/15 blur-xl"></span>
      </div>
    </div>

    <!-- Change Log List -->
    <div class="rounded-2xl p-5 bg-white/5 border border-amber-400/30">
      <div class="flex items-center justify-between mb-4">
        <div class="text-sm text-cyan-100/90">History</div>
        <div class="text-[11px] text-cyan-100/70">most recent first</div>
      </div>

      <div class="space-y-3">
        <!-- Item: InterestParamsUpdated -->
        <div class="grid grid-cols-12 gap-3 items-start rounded-xl p-4 bg-white/5 border border-cyan-300/30 relative overflow-hidden">
          <div class="col-span-2 flex items-center gap-2">
            <span class="w-2 h-2 rounded-full bg-cyan-300 shadow-[0_0_10px_2px_rgba(34,211,238,0.5)]"></span>
            <span class="text-xs text-cyan-100/90 font-semibold">Interest Updated</span>
          </div>
          <div class="col-span-4 text-xs text-cyan-100/80">
            pool: <a href="#" class="text-cyan-200 underline decoration-cyan-400/40" data-key="interest.pool">0x…AB12</a><br/>
            ts: <span class="text-cyan-100/70" data-key="interest.timestamp">2025‑09‑20 13:40</span>
          </div>
          <div class="col-span-6 text-xs">
            <div class="grid grid-cols-4 gap-2">
              <div class="bg-white/5 rounded-lg p-2 border border-cyan-300/20">
                <div class="text-cyan-100/70">base_rate</div>
                <div><span class="line-through text-cyan-100/60">2.0%</span> → <span class="text-amber-300 font-semibold" data-key="interest.base_rate">2.5%</span></div>
              </div>
              <div class="bg-white/5 rounded-lg p-2 border border-cyan-300/20">
                <div class="text-cyan-100/70">base_slope</div>
                <div><span class="line-through text-cyan-100/60">12%</span> → <span class="text-amber-300 font-semibold" data-key="interest.base_slope">14%</span></div>
              </div>
              <div class="bg-white/5 rounded-lg p-2 border border-cyan-300/20">
                <div class="text-cyan-100/70">optimal_u</div>
                <div><span class="line-through text-cyan-100/60">70%</span> → <span class="text-amber-300 font-semibold" data-key="interest.optimal">65%</span></div>
              </div>
              <div class="bg-white/5 rounded-lg p-2 border border-cyan-300/20">
                <div class="text-cyan-100/70">excess_slope</div>
                <div><span class="line-through text-cyan-100/60">35%</span> → <span class="text-amber-300 font-semibold" data-key="interest.excess_slope">40%</span></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Item: MarginPoolConfigUpdated -->
        <div class="grid grid-cols-12 gap-3 items-start rounded-xl p-4 bg-white/5 border border-amber-300/30 relative overflow-hidden">
          <div class="col-span-2 flex items-center gap-2">
            <span class="w-2 h-2 rounded-full bg-amber-300 shadow-[0_0_10px_2px_rgba(251,191,36,0.5)]"></span>
            <span class="text-xs text-cyan-100/90 font-semibold">Pool Config</span>
          </div>
          <div class="col-span-4 text-xs text-cyan-100/80">
            pool: <a href="#" class="text-cyan-200 underline decoration-cyan-400/40" data-key="pool.pool">0x…CD44</a><br/>
            ts: <span class="text-cyan-100/70" data-key="pool.timestamp">2025‑09‑18 08:23</span>
          </div>
          <div class="col-span-6 text-xs">
            <div class="grid grid-cols-4 gap-2">
              <div class="bg-white/5 rounded-lg p-2 border border-amber-300/20">
                <div class="text-cyan-100/70">supply_cap</div>
                <div><span class="line-through text-cyan-100/60">1,000,000</span> → <span class="text-amber-300 font-semibold" data-key="pool.supply_cap">2,000,000</span></div>
              </div>
              <div class="bg-white/5 rounded-lg p-2 border border-amber-300/20">
                <div class="text-cyan-100/70">max_utilization_rate</div>
                <div><span class="line-through text-cyan-100/60">90%</span> → <span class="text-amber-300 font-semibold" data-key="pool.max_util">92%</span></div>
              </div>
              <div class="bg-white/5 rounded-lg p-2 border border-amber-300/20">
                <div class="text-cyan-100/70">protocol_spread</div>
                <div><span class="line-through text-cyan-100/60">10%</span> → <span class="text-amber-300 font-semibold" data-key="pool.protocol_spread">12%</span></div>
              </div>
              <div class="bg-white/5 rounded-lg p-2 border border-amber-300/20">
                <div class="text-cyan-100/70">min_borrow</div>
                <div><span class="line-through text-cyan-100/60">100</span> → <span class="text-amber-300 font-semibold" data-key="pool.min_borrow">200</span></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Item: DeepbookPoolUpdated -->
        <div class="grid grid-cols-12 gap-3 items-start rounded-xl p-4 bg-white/5 border border-blue-300/30 relative overflow-hidden">
          <div class="col-span-2 flex items-center gap-2">
            <span class="w-2 h-2 rounded-full bg-blue-300 shadow-[0_0_10px_2px_rgba(147,197,253,0.5)]"></span>
            <span class="text-xs text-cyan-100/90 font-semibold">DeepBook Link</span>
          </div>
          <div class="col-span-4 text-xs text-cyan-100/80">
            pool: <a href="#" class="text-cyan-200 underline decoration-cyan-400/40" data-key="deepbook.pool">0x…71AF</a><br/>
            ts: <span class="text-cyan-100/70" data-key="deepbook.timestamp">2025‑09‑16 17:02</span>
          </div>
          <div class="col-span-6 text-xs">
            <div class="grid grid-cols-3 gap-2">
              <div class="bg-white/5 rounded-lg p-2 border border-blue-300/20">
                <div class="text-cyan-100/70">deepbook_pool_id</div>
                <div class="text-amber-300 font-semibold" data-key="deepbook.id">0x…DB00</div>
              </div>
              <div class="bg-white/5 rounded-lg p-2 border border-blue-300/20">
                <div class="text-cyan-100/70">pool_cap_id</div>
                <div class="text-amber-300 font-semibold" data-key="deepbook.cap">0x…PC01</div>
              </div>
              <div class="bg-white/5 rounded-lg p-2 border border-blue-300/20">
                <div class="text-cyan-100/70">enabled</div>
                <div><span class="px-2 py-0.5 rounded bg-emerald-400/20 text-emerald-300 border border-emerald-300/40" data-key="deepbook.enabled">true</span></div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- Footnote / Binding hints -->
    <div class="mt-6 text-[11px] text-cyan-100/70 leading-relaxed">
      Bind directly to events: <span class="text-amber-300">InterestParamsUpdated</span> (kinked curve params), <span class="text-amber-300">MarginPoolConfigUpdated</span> (caps, spread, min borrow), and <span class="text-amber-300">DeepbookPoolUpdated</span> (allowed pool links). Show "before → after" diffs using previous state snapshot at <code class="text-cyan-200">timestamp - 1</code>. Group by <code class="text-cyan-200">margin_pool_id</code>, sort desc by timestamp, and add deep links to pool detail.
    </div>
  </div>
</body>
</html>
